<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">





<mapper namespace="qna">
	<insert id="insertQ" parameterType="QnaQVo">
		INSERT INTO b_q
		VALUES (b_q_seq.nextval,
				#{toWhoNo },
				#{fromUserNo},
				#{qMessage },
				SYSDATE,
				#{classNo },
				#{qType },
				#{qRef } )
	</insert>
	
	
	
	
	<select id="listQ" parameterType="YjQVo" resultType="hashmap">
		Select class_name,
			   q.ppt_no,
			   u.student_name,
			   q.created_date,
			   q.q_message,
			   q.qna_q_no
		from b_q q, b_user u
		where (select user_no from u where u.user_id = #{userId })
	</select>
</mapper>